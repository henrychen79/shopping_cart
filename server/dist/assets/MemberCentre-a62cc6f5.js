import{H as V}from"./Header-fabc921f.js";import{b as p,T as F}from"./runtime-dom.esm-bundler-a6f2cd2a.js";import{d as T}from"./pinia-f4d3ecd1.js";import{G as $,C as r,_ as w,o as c,S as _,T as s,a4 as f,u as t,a0 as h,a1 as P,a2 as k,a6 as M,Y as U,V as i,W,a3 as z,Z as C}from"./_plugin-vue_export-helper-f7306c69.js";import"./index-8f24cdfe.js";import"./order_api-a4187d68.js";import"./cartStore-7940fa6d.js";const N=T("memberStore",()=>{let a=$({account:"rec27@gmail.com",newNickname:""}),e=$({password:"",newPassword:"",checkPassword:""}),l=r(!0),o=r(!0),n=r(!1),m=r(""),y=r(""),u=r(!1);const g=()=>{u.value=!0,l.value?(l.value=!1,o.value=!0):(l.value=!0,b())},O=()=>{u.value=!0,o.value?(o.value=!1,l.value=!0):(o.value=!0,b())},b=()=>{u.value=!1},I=()=>{if(a.newNickname===""){alert("欄位不能為空");return}fetch("http://172.20.10.4:8080/api/member/update_nickname",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(d){return console.log(d),d.json()}).then(function(d){console.log("Success:",d)}).catch(function(d){console.error("Error:",d)})},x=new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}$/);return{modifyNameOpen:l,modifyPwOpen:o,modifyNamedata:a,show:u,password_error:n,passwordWarn:m,fontColor:y,modifyPassword:e,OpenNameFn:g,OpenPwFn:O,modifyNickName:I,closeShowView:b,checkPassword:()=>{x.test(e.newPassword),x.test(e.newPassword)?(n.value=!1,m.value="密碼格式正確",y.value="green",console.log("格式正確")):(m.value="密碼格式不符合",y.value="red",n.value=!1,console.log("格式不正確")),e.newPassword===""&&(m.value="")},checkSend:()=>{if(e.newPassword===""||e.password===""||e.checkPassword===""){alert("欄位不能為空");return}else if(e.newPassword!=e.checkPassword){alert("密碼和確認密碼不相符");return}console.log("執行fetch")}}});const B=a=>(P("data-v-b9f41be8"),a=a(),k(),a),E={class:"modify_txt"},j=B(()=>s("label",null,"請輸入新的暱稱:",-1)),D={class:"modify_name_btn"},H={__name:"modifyName",setup(a){const e=N();return(l,o)=>(c(),_("div",{class:h(["modify_name_main",{modifyOpen:t(e).modifyNameOpen}])},[s("div",E,[j,f(s("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t(e).modifyNamedata.newNickname=n)},null,512),[[p,t(e).modifyNamedata.newNickname]])]),s("div",D,[s("button",{class:"btn_check",onClick:o[1]||(o[1]=(...n)=>t(e).modifyNickName&&t(e).modifyNickName(...n))},"確認"),s("button",{class:"btn_cancel",onClick:o[2]||(o[2]=n=>(t(e).OpenNameFn(),t(e).closeShowView()))},"取消")])],2))}},Z=w(H,[["__scopeId","data-v-b9f41be8"]]);const S=a=>(P("data-v-76678bf2"),a=a(),k(),a),A={class:"modifyPw_txt"},G=S(()=>s("label",null,"輸入舊的密碼:",-1)),J={class:"modifyPw_txt"},K=S(()=>s("label",null,"輸入新的密碼:",-1)),R=["textContent"],Y={class:"modifyPw_txt"},q=S(()=>s("label",null,"確認新的密碼:",-1)),L={class:"modify_pw_btn"},Q={__name:"modifyPw",setup(a){const e=N();return(l,o)=>(c(),_("div",{class:h(["modify_pw_main",{modifyPwOpen:t(e).modifyPwOpen}])},[s("div",A,[G,f(s("input",{type:"password","onUpdate:modelValue":o[0]||(o[0]=n=>t(e).modifyPassword.password=n)},null,512),[[p,t(e).modifyPassword.password]])]),s("div",J,[K,f(s("input",{type:"password",onKeyup:o[1]||(o[1]=(...n)=>t(e).checkPassword&&t(e).checkPassword(...n)),"onUpdate:modelValue":o[2]||(o[2]=n=>t(e).modifyPassword.newPassword=n),placeholder:"需輸入8~12英數混合"},null,544),[[p,t(e).modifyPassword.newPassword]]),s("p",{class:h(["error_txt",{open:t(e).password_error}]),style:M({color:t(e).fontColor}),textContent:U(t(e).passwordWarn)},null,14,R)]),s("div",Y,[q,f(s("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=n=>t(e).modifyPassword.checkPassword=n)},null,512),[[p,t(e).modifyPassword.checkPassword]])]),s("div",L,[s("button",{class:"btn_check",onClick:o[4]||(o[4]=(...n)=>t(e).checkSend&&t(e).checkSend(...n))},"確認"),s("button",{class:"btn_cancel",onClick:o[5]||(o[5]=n=>(t(e).OpenPwFn(),t(e).closeShowView()))},"取消")])],2))}},X=w(Q,[["__scopeId","data-v-76678bf2"]]);const v=a=>(P("data-v-8b6439a2"),a=a(),k(),a),ee=v(()=>s("h1",null,"會員中心",-1)),se={key:0,class:"textView"},oe={class:"mainInfo"},te={class:"reviseInfo"},ne=v(()=>s("h2",null,"修改會員資料",-1)),ae=v(()=>s("div",{class:"test"},null,-1)),le=v(()=>s("div",{class:"orderInfo"},[s("h2",null,"訂單查詢"),s("div",{class:"test"})],-1)),de={__name:"memberinfo",setup(a){const e=N();return(l,o)=>(c(),_(C,null,[ee,i(F,{name:"bounce"},{default:W(()=>[t(e).show?(c(),_("p",se,[i(Z),i(X)])):z("",!0)]),_:1}),s("div",oe,[s("div",te,[ne,ae,s("ul",null,[s("li",null,[s("a",{onClick:o[0]||(o[0]=(...n)=>t(e).OpenPwFn&&t(e).OpenPwFn(...n))},"修改密碼")]),s("li",null,[s("a",{onClick:o[1]||(o[1]=(...n)=>t(e).OpenNameFn&&t(e).OpenNameFn(...n))},"修改暱稱")])])]),le])],64))}},re=w(de,[["__scopeId","data-v-8b6439a2"]]);const ie={class:"main"},ce={__name:"MemberCentre",setup(a){return(e,l)=>(c(),_(C,null,[i(V),s("div",ie,[i(re)])],64))}},he=w(ce,[["__scopeId","data-v-b49b9aa0"]]);export{he as default};
