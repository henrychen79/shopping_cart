import{H as S}from"./Header-8f199965.js";import{v as $,r as b,T as x}from"./index-4754d7e5.js";import{d as O}from"./pinia-b399fd55.js";import{G as f,C as P,_ as r,o as d,I as m,J as e,U as C,u as n,R as N,S as v,T as y,K as c,L as I,W as g,O as k}from"./_plugin-vue_export-helper-87e97047.js";import"./cartStore-cc00b462.js";const h=O("memberStore",()=>{let o=f(!0),t=f(!0),i=f(!1);const s=()=>{i.value=!0,o.value?(o.value=!1,t.value=!0):(o.value=!0,_())},a=()=>{i.value=!0,t.value?(t.value=!1,o.value=!0):(t.value=!0,_())},_=()=>{i.value=!1};let w=P({account:"rec27@gmail.com",newNickname:""});return{modifyNameOpen:o,modifyPwOpen:t,modifyNamedata:w,show:i,OpenNameFn:s,OpenPwFn:a,modifyNickName:()=>{fetch("http://172.20.10.4:8080/api/member/update_nickname",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(function(l){return console.log(l),l.json()}).then(function(l){console.log("Success:",l)}).catch(function(l){console.error("Error:",l)})},closeShowView:_}});const F=o=>(v("data-v-546f7e7a"),o=o(),y(),o),V={class:"modify_txt"},T=F(()=>e("label",null,"請輸入新的暱稱:",-1)),M={class:"modify_name_btn"},B={__name:"modifyName",setup(o){const t=h();return(i,s)=>(d(),m("div",{class:N(["modify_name_main",{modifyOpen:n(t).modifyNameOpen}])},[e("div",V,[T,C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>n(t).modifyNamedata.newNickname=a)},null,512),[[$,n(t).modifyNamedata.newNickname]])]),e("div",M,[e("button",{onClick:s[1]||(s[1]=(...a)=>n(t).modifyNickName&&n(t).modifyNickName(...a))},"確認"),e("button",{onClick:s[2]||(s[2]=a=>(n(t).OpenNameFn(),n(t).closeShowView()))},"取消")])],2))}},j=r(B,[["__scopeId","data-v-546f7e7a"]]);const u=o=>(v("data-v-3d8c7a47"),o=o(),y(),o),E=u(()=>e("div",{class:"modifyPw_txt"},[e("label",null,"請輸入舊的密碼:"),e("input")],-1)),H=u(()=>e("div",{class:"modifyPw_txt"},[e("label",null,"請輸入新的密碼:"),e("input")],-1)),J=u(()=>e("div",{class:"modifyPw_txt"},[e("label",null,"確認新的密碼:"),e("input")],-1)),U={class:"modify_pw_btn"},W=u(()=>e("button",null,"確認",-1)),z={__name:"modifyPw",setup(o){const t=h();return(i,s)=>(d(),m("div",{class:N(["modify_pw_main",{modifyPwOpen:n(t).modifyPwOpen}])},[E,H,J,e("div",U,[W,e("button",{onClick:s[0]||(s[0]=a=>(n(t).OpenPwFn(),n(t).closeShowView()))},"取消")])],2))}},D=r(z,[["__scopeId","data-v-3d8c7a47"]]);const p=o=>(v("data-v-7d59f853"),o=o(),y(),o),G=p(()=>e("h1",null,"會員中心",-1)),K={key:0,class:"textView"},L={class:"mainInfo"},R={class:"reviseInfo"},q=p(()=>e("h2",null,"修改會員資料",-1)),A=p(()=>e("div",{class:"test"},null,-1)),Q=p(()=>e("div",{class:"orderInfo"},[e("h2",null,"訂單查詢"),e("div",{class:"test"})],-1)),X={__name:"memberinfo",setup(o){const t=h(),i=document.cookie.replace(/(?:(?:^|.*;\s*)tokenStore\s*\=\s*([^;]*).*$)|^.*$/,"$1");return console.log("取得token測試",i),i===""?b.push("/login"):b.push("/member"),(s,a)=>(d(),m(k,null,[G,c(x,{name:"bounce"},{default:I(()=>[n(t).show?(d(),m("p",K,[c(j),c(D)])):g("",!0)]),_:1}),e("div",L,[e("div",R,[q,A,e("ul",null,[e("li",null,[e("a",{href:"#",onClick:a[0]||(a[0]=(..._)=>n(t).OpenPwFn&&n(t).OpenPwFn(..._))},"修改密碼")]),e("li",null,[e("a",{href:"#",onClick:a[1]||(a[1]=(..._)=>n(t).OpenNameFn&&n(t).OpenNameFn(..._))},"修改暱稱")])])]),Q])],64))}},Y=r(X,[["__scopeId","data-v-7d59f853"]]);const Z={class:"main"},ee={__name:"MemberCentre",setup(o){return(t,i)=>(d(),m(k,null,[c(S),e("div",Z,[c(Y)])],64))}},_e=r(ee,[["__scopeId","data-v-b49b9aa0"]]);export{_e as default};
