import{y as f,z as r,A as d,r as w,G as v}from"./index-7ceba52b.js";const P=f("Retrievepw",()=>{let e=r(!1),s=d({account:""});return{sendEmail:async()=>{await fetch("http://172.20.10.4:8080/api/user/forgetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(o){return o.json()}).then(function(o){return o.status}).catch(function(o){console.error("Error:",o)})===!0?w.push({path:"/verify",query:{account:s.account}}):(e.value=!0,console.log("寄送失敗，請重新確認"))},retrieveData:s,show:e}}),S=f("VerifyStore",()=>{let e=d({account:"",password:"",newPassword:"",checkPassword:""}),s=r(!1),a=r(!1),t=r(""),l=r(""),o=r(""),c=r(!1);const u=new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}$/);return{verifySend:async()=>{if(e.password===""||e.newPassword===""||e.checkPassword===""){o.value="欄位不能為空",s.value=!0;return}else if(e.newPassword!=e.checkPassword){o.value="密碼和確認密碼不相符",s.value=!0;return}console.log("1212412512623631");let i=await v(JSON.stringify(e)).then(function(n){return console.log(n),n.status}).catch(function(n){console.error("Error:",n)});console.log(i),i===!0?(o.value="修改成功",c.value=!0,console.log("修改成功")):(o.value="修改失敗",c.value=!1,console.log("修改失敗")),s.value=!0},checkSend:()=>{c.value===!0?(s.value=!1,w.push("/login"),console.log("導回login頁面")):(s.value=!1,console.log("關掉通知畫面"))},checkPassword:()=>{u.test(e.newPassword),u.test(e.newPassword)?(a.value=!1,t.value="密碼格式正確",l.value="green",console.log("格式正確")):(t.value="密碼格式不符合",l.value="red",a.value=!1,console.log("格式不正確")),e.newPassword===""&&(t.value="")},regex:u,verify:e,warmText:o,show:s,password_error:a,passwordWarn:t,fontColor:l}});export{S as a,P as u};
