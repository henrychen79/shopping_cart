import{d as f}from"./pinia-f4d3ecd1.js";import{r as d}from"./index-8f24cdfe.js";import{C as t,G as w}from"./_plugin-vue_export-helper-f7306c69.js";const S=f("Retrievepw",()=>{let e=t(!1),s=w({account:""});return{sendEmail:async()=>{await fetch("http://localhost:8080/api/user/forgetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(o){return o.json()}).then(function(o){return o.status}).catch(function(o){console.error("Error:",o)})===!0?d.push({path:"/verify",query:{account:s.account}}):(e.value=!0,console.log("寄送失敗，請重新確認"))},retrieveData:s,show:e}}),_=f("VerifyStore",()=>{let e=w({account:"",password:"",newPassword:"",checkPassword:""}),s=t(!1),l=t(!1),a=t(""),n=t(""),o=t(""),c=t(!1);const u=new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}$/);return{verifySend:async()=>{if(e.password===""||e.newPassword===""||e.checkPassword===""){o.value="欄位不能為空",s.value=!0;return}else if(e.newPassword!=e.checkPassword){o.value="密碼和確認密碼不相符",s.value=!0;return}console.log("1212412512623631");let i=await fetch("http://localhost:8080/api/user/updatePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(r){return r.json()}).then(function(r){return console.log(r),r.status}).catch(function(r){console.error("Error:",r)});console.log(i),i===!0?(o.value="修改成功",c.value=!0,console.log("修改成功")):(o.value="修改失敗",c.value=!1,console.log("修改失敗")),s.value=!0},checkSend:()=>{c.value===!0?(s.value=!1,d.push("/login"),console.log("導回login頁面")):(s.value=!1,console.log("關掉通知畫面"))},checkPassword:()=>{u.test(e.newPassword),u.test(e.newPassword)?(l.value=!1,a.value="密碼格式正確",n.value="green",console.log("格式正確")):(a.value="密碼格式不符合",n.value="red",l.value=!1,console.log("格式不正確")),e.newPassword===""&&(a.value="")},regex:u,verify:e,warmText:o,show:s,password_error:l,passwordWarn:a,fontColor:n}});export{_ as a,S as u};
