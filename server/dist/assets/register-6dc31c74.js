import{H as D}from"./Header-8f199965.js";import{T as K,v as w}from"./index-4754d7e5.js";import{d as N}from"./pinia-b399fd55.js";import{G as r,C as G,_ as T,o as x,I as C,J as o,Q as b,u as t,K as k,L as H,W as M,U as h,R as I,a5 as P,O as A,S as O,T as J}from"./_plugin-vue_export-helper-87e97047.js";import{u as L}from"./loginStore-766a9413.js";import"./cartStore-cc00b462.js";const R=N("RegisterStore",()=>{let l=r(!1),e=r(!1),c=r(""),u=r("red"),s=r(!1),a=r(!1),i=r(""),m=r("red"),_=r(!1),n=G({name:"",account:"",password:"",doublePassword:null}),p=r(!1),f=r("");const y=new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}$/),W=()=>{_.value=!1},$=()=>{n.account!=""?s.value=!0:s.value=!1},V=()=>{a.value?(i.value="帳號已存在，請重新檢查",m.value="red"):(i.value="可以註冊",m.value="green")},E=()=>{i.value=""},U=()=>{y.test(n.password),y.test(n.password)?e.value=!1:e.value=!0,B(),F()},B=()=>{n.password!=""?l.value=!0:l.value=!1},F=()=>{e.value?(c.value="密碼格式不符合",u.value="red"):(c.value="密碼格式正確",u.value="green"),n.password===""&&(c.value="")},g=()=>{console.log(p.value),p.value?p.value=!1:p.value=!0},j="../../account.json";return{checkRegisterInfo:()=>{n.name!=""&&n.account!=""&&n.password!=""?n.doublePassword===n.password?_.value?console.log("執行註冊fetch registerButton(data)"):(console.log("尚未點選確認帳號，或該帳號已被註冊請重新檢查"),f.value="尚未點選確認帳號，或該帳號已被註冊請重新檢查",g()):(console.log("確認密碼不相符"),f.value="確認密碼不相符",g()):(console.log("欄位不能為空"),f.value="欄位不能為空",g())},checkPassword:U,checkAccount:async()=>{if(n.account===""){i.value="不能為空",m.value="red";return}let S=await fetch(j,{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(v){return v.json()}).then(function(v){return v.userStore.some(function(z,ye,be){return z.account===n.account})}).catch(v=>{console.error("Error:",v)});console.log(S),S?(a.value=!0,_.value=!1,console.log("重複",a.value)):(a.value=!1,_.value=!0,console.log("不重複",a.value)),$(),V()},AccountP:E,registControl:W,warmTextFn:g,data:n,regex:y,passControl:l,passwordError:e,passwordWarn:c,fontColor:u,accountControl:s,accountError:a,accountColor:m,accountWarn:i,registOpen:_,warmText:f,show:p}});const Q={class:"warmMain"},Z={class:"warmText"},q=["textContent"],X={class:"warmBtn"},Y={__name:"registerWarm",setup(l){const e=R();return(c,u)=>(x(),C("div",Q,[o("div",Z,[o("p",{textContent:b(t(e).warmText)},null,8,q)]),o("div",X,[o("button",{onClick:u[0]||(u[0]=(...s)=>t(e).warmTextFn&&t(e).warmTextFn(...s))},"確定")])]))}},ee=T(Y,[["__scopeId","data-v-511a4c95"]]);const d=l=>(O("data-v-1704abd5"),l=l(),J(),l),te={key:0,class:"warmView"},oe={class:"container"},se=d(()=>o("h2",null,"註冊會員",-1)),ae={class:"regist_form"},ne={class:"group"},re=d(()=>o("label",{for:"user_account"},"創建帳號:",-1)),le=["textContent"],ce={class:"group"},ue=d(()=>o("label",{for:"user_password"},"創建密碼:",-1)),de=["textContent"],ie={class:"group"},_e=d(()=>o("label",{for:"check_password"},"確認密碼:",-1)),pe={class:"group"},ve=d(()=>o("label",{for:"user_name"},"你的暱稱:",-1)),me={class:"btn-group"},fe=d(()=>o("button",{class:"btn"},"取消",-1)),ge={__name:"registerComponents",setup(l){const e=R(),c=L();return console.log("test123:",c.userData.account),(u,s)=>(x(),C(A,null,[k(K,{name:"bounce"},{default:H(()=>[t(e).show?(x(),C("p",te,[k(ee)])):M("",!0)]),_:1}),o("div",oe,[se,o("div",ae,[o("div",ne,[re,h(o("input",{type:"email",name:"",id:"user_account",placeholder:"請輸入電子信箱","onUpdate:modelValue":s[0]||(s[0]=a=>t(e).data.account=a),onKeyup:s[1]||(s[1]=a=>{t(e).AccountP(),t(e).registControl()})},null,544),[[w,t(e).data.account]]),o("p",{class:I(["ac_error",{open:t(e).accountControl}]),style:P({color:t(e).accountColor}),textContent:b(t(e).accountWarn)},null,14,le),o("button",{class:"check",onClick:s[2]||(s[2]=(...a)=>t(e).checkAccount&&t(e).checkAccount(...a))}," 確認 ")]),o("div",ce,[ue,h(o("input",{type:"text",name:"",onKeyup:s[3]||(s[3]=(...a)=>t(e).checkPassword&&t(e).checkPassword(...a)),id:"user_password",placeholder:"需輸入8~12英數混合","onUpdate:modelValue":s[4]||(s[4]=a=>t(e).data.password=a)},null,544),[[w,t(e).data.password]]),o("p",{class:I(["pw_error",{open:t(e).passControl}]),style:P({color:t(e).fontColor}),textContent:b(t(e).passwordWarn)},null,14,de)]),o("div",ie,[_e,h(o("input",{type:"text",name:"",id:"check_password","onUpdate:modelValue":s[5]||(s[5]=a=>t(e).data.doublePassword=a)},null,512),[[w,t(e).data.doublePassword]])]),o("div",pe,[ve,h(o("input",{type:"text",name:"",id:"user_name","onUpdate:modelValue":s[6]||(s[6]=a=>t(e).data.name=a)},null,512),[[w,t(e).data.name]])]),o("div",me,[o("button",{class:"btn",onClick:s[7]||(s[7]=(...a)=>t(e).checkRegisterInfo&&t(e).checkRegisterInfo(...a))}," 註冊 "),fe])])])],64))}},we=T(ge,[["__scopeId","data-v-1704abd5"]]);const he={class:"regist_main"},xe={__name:"register",setup(l){return(e,c)=>(x(),C(A,null,[k(D),o("div",he,[k(we)])],64))}},We=T(xe,[["__scopeId","data-v-73825fc4"]]);export{We as default};
