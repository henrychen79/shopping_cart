import{d as c}from"./pinia-b399fd55.js";import"./index-4754d7e5.js";import{C as a,G as s}from"./_plugin-vue_export-helper-87e97047.js";const p=c("loginStore",()=>{let n=a({account:"",password:""}),r=s(""),e=s(!1);const l=()=>{e.value?e.value=!1:e.value=!0};return{login:async()=>{let t=await fetch("http://localhost:8080/api/user/login",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)}).then(function(o){return o.json()}).then(function(o){return o}).catch(function(o){console.error("Error:",o)});if(console.log(t.accout),t.accout.length!=0){console.log("登入成功"),console.log(t),document.cookie=`tokenStore=${t.token};`;const o=document.cookie.replace(/(?:(?:^|.*;\s*)tokenStore\s*\=\s*([^;]*).*$)|^.*$/,"$1");console.log("取得token測試",o)}else console.log("登入失敗"),r.value="登入失敗",l()},warmView:l,userData:n,loginwarmText:r,show:e}});export{p as u};
